webpackJsonp([6],{"2h9Q":function(t,e,a){var i=a("QEbE");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("1c1a1cdf",i,!0,{})},"A/MO":function(t,e,a){e=t.exports=a("UTlt")(!0),e.push([t.i,".layui-btn-sm i[data-v-eae0c4dc]{font-size:12px}.main-content-header[data-v-eae0c4dc]{height:auto;background-color:#fff;padding-top:15px;padding-right:30px;-webkit-box-shadow:0 1px 6px -1px rgba(0,0,0,.15);box-shadow:0 1px 6px -1px rgba(0,0,0,.15)}.main-content-body[data-v-eae0c4dc]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-shadow:0 1px 4px 1px rgba(29,29,39,.15);box-shadow:0 1px 4px 1px rgba(29,29,39,.15)}.main-content-body-left[data-v-eae0c4dc]{width:14%}.main-content-body-left[data-v-eae0c4dc],.main-content-body-right[data-v-eae0c4dc]{min-height:380px;background-color:#fff;-webkit-box-shadow:0 1px 6px -1px rgba(0,0,0,.15);box-shadow:0 1px 6px -1px rgba(0,0,0,.15)}.main-content-body-right[data-v-eae0c4dc]{width:100%}.layui-btn-sm i.iconfont[data-v-eae0c4dc]{font-size:12px!important}.main-content-body-left-bottom[data-v-eae0c4dc]{padding-top:10px}.main-content-right-bottom[data-v-eae0c4dc]{padding:15px}.layui-colla-title[data-v-eae0c4dc]{position:relative;height:36px;line-height:36px;padding:0 15px 0 35px;color:#333;background-color:#ffff;cursor:pointer;font-size:13px;overflow:hidden;font-weight:700}.layui-colla-content[data-v-eae0c4dc]{font-size:12px;padding-top:0}.layui-form-checkbox span[data-v-eae0c4dc]{font-size:12px}#resource .layui-table td[data-v-eae0c4dc]{border-width:1px;padding:3px 15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.left-child[data-v-eae0c4dc],.right-child[data-v-eae0c4dc]{display:inline-block}.left-child[data-v-eae0c4dc]{width:120px}","",{version:3,sources:["C:/Users/Administrator/Desktop/project/fs-master/trunk/code/src/pages/system/role.vue"],names:[],mappings:"AACA,iCACE,cAAgB,CACjB,AACD,sCACE,YAAa,AACb,sBAAuB,AACvB,iBAAkB,AAClB,mBAAoB,AACpB,kDAAuD,AAC/C,yCAA+C,CACxD,AACD,oCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,iBAAkB,AACtB,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,8BAA+B,AACvC,oDAAwD,AAChD,2CAA+C,CACxD,AACD,yCACE,SAAW,CAKZ,AACD,mFALE,iBAAkB,AAClB,sBAAuB,AACvB,kDAAuD,AAC/C,yCAA+C,CAQxD,AAND,0CACE,UAAY,CAKb,AACD,0CACE,wBAA2B,CAC5B,AACD,gDACE,gBAAkB,CACnB,AACD,4CACE,YAAc,CACf,AACD,oCACE,kBAAmB,AACnB,YAAa,AACb,iBAAkB,AAClB,sBAAuB,AACvB,WAAY,AACZ,uBAAwB,AACxB,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,eAAkB,CACnB,AACD,sCACE,eAAgB,AAChB,aAAe,CAChB,AACD,2CACE,cAAgB,CACjB,AACD,2CACE,iBAAkB,AAClB,iBAAkB,AAClB,gBAAgB,AAChB,uBAAuB,AACvB,kBAAkB,CACnB,AACD,2DACE,oBAAsB,CACvB,AACD,6BACE,WAAa,CACd",file:"role.vue",sourcesContent:["\n.layui-btn-sm i[data-v-eae0c4dc] {\n  font-size: 12px;\n}\n.main-content-header[data-v-eae0c4dc] {\n  height: auto;\n  background-color: #fff;\n  padding-top: 15px;\n  padding-right: 30px;\n  -webkit-box-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.15);\n          box-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.15);\n}\n.main-content-body[data-v-eae0c4dc] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: nowrap;\n      flex-wrap: nowrap;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-shadow:0 1px 4px 1px rgba(29, 29, 39, 0.15);\n          box-shadow:0 1px 4px 1px rgba(29, 29, 39, 0.15)\n}\n.main-content-body-left[data-v-eae0c4dc] {\n  width: 14%;\n  min-height: 380px;\n  background-color: #fff;\n  -webkit-box-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.15);\n          box-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.15);\n}\n.main-content-body-right[data-v-eae0c4dc] {\n  width: 100%;\n  min-height: 380px;\n  background-color: #fff;\n  -webkit-box-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.15);\n          box-shadow: 0 1px 6px -1px rgba(0, 0, 0, 0.15);\n}\n.layui-btn-sm i.iconfont[data-v-eae0c4dc] {\n  font-size: 12px !important;\n}\n.main-content-body-left-bottom[data-v-eae0c4dc] {\n  padding-top: 10px;\n}\n.main-content-right-bottom[data-v-eae0c4dc]{\n  padding: 15px;\n}\n.layui-colla-title[data-v-eae0c4dc] {\n  position: relative;\n  height: 36px;\n  line-height: 36px;\n  padding: 0 15px 0 35px;\n  color: #333;\n  background-color: #ffff;\n  cursor: pointer;\n  font-size: 13px;\n  overflow: hidden;\n  font-weight: bold;\n}\n.layui-colla-content[data-v-eae0c4dc] {\n  font-size: 12px;\n  padding-top: 0;\n}\n.layui-form-checkbox span[data-v-eae0c4dc] {\n  font-size: 12px;\n}\n#resource .layui-table td[data-v-eae0c4dc] {\n  border-width: 1px;\n  padding: 3px 15px;\n  overflow:hidden;\n  text-overflow:ellipsis;\n  white-space:nowrap\n}\n.left-child[data-v-eae0c4dc],.right-child[data-v-eae0c4dc] {\n  display: inline-block;\n}\n.left-child[data-v-eae0c4dc] {\n  width: 120px;\n}\n"],sourceRoot:""}])},QEbE:function(t,e,a){e=t.exports=a("UTlt")(!0),e.push([t.i,"#distribute_modules .layui-form-checkbox span{font-size:12px;line-height:1.1}#resource .layui-laypage-limits{display:none}#resource .layui-table{width:100%}#distribute_modules .colla-content-child{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}#distribute_modules .colla-content-child>div:first-child{width:24%}#distribute_modules .colla-content-child>div:nth-child(2){width:75%;text-align:right}","",{version:3,sources:["C:/Users/Administrator/Desktop/project/fs-master/trunk/code/src/pages/system/role.vue"],names:[],mappings:"AACA,8CACE,eAAgB,AAChB,eAAiB,CAClB,AACD,gCACE,YAAc,CACf,AACD,uBACE,UAAY,CACb,AACD,yCACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,iBAAkB,AACtB,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,6BAA+B,CACxC,AACD,yDACE,SAAW,CACZ,AACD,0DACE,UAAW,AACX,gBAAkB,CACnB",file:"role.vue",sourcesContent:["\n#distribute_modules .layui-form-checkbox span {\n  font-size: 12px;\n  line-height: 1.1;\n}\n#resource .layui-laypage-limits {\n  display: none;\n}\n#resource .layui-table {\n  width: 100%;\n}\n#distribute_modules .colla-content-child{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: nowrap;\n      flex-wrap: nowrap;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n#distribute_modules .colla-content-child > div:nth-child(1){\n  width: 24%;\n}\n#distribute_modules .colla-content-child > div:nth-child(2){\n  width: 75%;\n  text-align: right;\n}\n"],sourceRoot:""}])},VZj7:function(t,e,a){"use strict";function i(t){a("nRwZ"),a("2h9Q")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("3cXf"),o=a.n(n),l=a("QmSG"),s=a.n(l),r=a("U/9I"),c={name:"role",data:function(){return{msg:"role",arr:[{name:"role",value:"role"}],Authorization:r.a.getData("token"),tableData:[],totalPage:"",pageEnd:10,pageStart:0,itemLength:"",pageCollage:[],rightBtnArr:[],modules_all_select:[],modules_simple_select:[],layData:{search:"搜索输入"},icon:{search:"iconfont icon-sousuo mr4",allType:"iconfont icon-tubiao-loudoutu mr4",iconfont:"iconfont",add:"icon-iconfontadd",edit:"icon-xiugai",del:"icon-quxiao"},formData:"",searchData:{msg:""},editData:{id:"",status:"",role_name:"",remark:""},addFormData:{role_name:"",status:"",role_remark:"",level:r.a.getData("userInfo").ROLEID},roleBtnCheck:{dis_mo:"",dis_res:"",stop:"",add:"",delete:"",change:"",search:""}}},methods:{prePage:function(t){},add:function(t){t.preventDefault();var e=this;layui.use(["layer","form"],function(){var t=layui.layer;layui.form.render();var a=layui.$;t.open({type:1,title:"添加角色",skin:e.$store.state.skin,area:["500px","320px"],closeBtn:1,shadeClose:!0,content:a("#add_content")})})},confirm_add:function(t){t.preventDefault();var e=this;if(""==this.addFormData.status)return void layer.tips("必选项！",$("#add_status +div"),{tips:[1,"#459eff"],time:1500});var a={rolename:this.addFormData.role_name,status:this.addFormData.status,roleremark:this.addFormData.role_remark,level:this.addFormData.level};a=s.a.urlTransition("RoleAdd",a),layer.load(2),this.$http.apiPost("http://192.168.8.82:80/carAuditApiTest/api",a).then(function(t){200==t.code?(layer.closeAll(),layer.msg("添加成功",{time:1e3}),setTimeout(function(){e.tableRender()},1e3)):(layer.closeAll(),layer.msg(t.message))})},edit:function(t){t.preventDefault(),layui.use(["layer","form"],function(){t.preventDefault();var e=layui.layer,a=(layui.form,layui.$);e.open({type:1,title:"编辑角色",area:["500px","300px"],closeBtn:1,shadeClose:!0,skin:"layui-layer-molv",content:a("#edit_content")})})},confirm_edit:function(t){t.preventDefault();var e=this,a={id:this.editData.id,rolename:this.editData.role_name,roleremark:this.editData.remark,status:this.editData.status};a=s.a.urlTransition("RoleEdit",a),layer.load(1),this.$http.apiPost("http://192.168.8.82:80/carAuditApiTest/api",a).then(function(t){200==t.code?(layer.closeAll(),layer.msg("修改成功",{time:1e3}),setTimeout(function(){e.tableRender()},1e3)):layer.msg(t.message)})},reset:function(t){t.preventDefault(),this.searchData.msg=""},tableRender:function(){var t=this,e={type:"GetRoleTable"};layui.use(["table","form"],function(){var a=layui.table,i=layui.form;i.on("select(add_status)",function(e){var a=e.value;t.addFormData.status=a});var n=a.render({elem:"#role_table",url:"http://192.168.8.82:80/carAuditApiTest/api",loading:!0,even:!0,where:e,toolbar:"#toolbarSet",limit:20,limits:[20,40,50,60,80],response:{statusCode:200},headers:{Authorization:t.Authorization},text:{none:"暂无相关数据"},cols:[[{type:"radio",style:"background:#f4f4f4",title:"选择"},{field:"MY_ROWNUM",title:"#",width:80},{field:"ROLE_NAME",title:"角色身份",width:160},{field:"CREATE_TIME",title:"创建时间",width:170},{field:"UPDATE_TIME",title:"更新时间",width:170},{field:"STATUS",title:"状态",width:120},{field:"ROLE_REMARK",title:"角色备注"},{field:"operate",title:"操作",width:180,templet:function(t){return'<button remark="'+t.ROLE_REMARK+'" identity="'+t.ROLE_NAME+'" status="'+t.STATUS+'" value="'+t.ID+'" class="layui-btn-sm layui-btn operate-edit">编辑</button><button identity="'+t.ROLE_NAME+'" stauts="'+t.STATUS+'" value="'+t.ID+'" class="layui-btn-sm layui-btn layui-btn-danger operate-del">删除</button><button identity="'+t.ROLE_NAME+'" status="'+t.STATUS+'" value="'+t.ID+'" class="layui-btn-sm layui-btn operate-btn layui-btn-primary">停用</button>'}}]],page:!0,done:function(e){layer.closeAll("loading");var a=$('.layui-btn[lay-event="getCheckData"]'),o=$('.layui-btn[lay-event="dis_m"]');setTimeout(function(){1==t.roleBtnCheck.dis_re?a.removeClass("hide").css({display:"inline-block"}):a.removeClass("hide").css({display:"none"}),1==t.roleBtnCheck.dis_mo?o.removeClass("hide").css({display:"inline-block"}):o.removeClass("hide").css({display:"none"}),1==t.roleBtnCheck.change?$(".operate-edit").css({display:"inine-block"}):$(".operate-edit").css({display:"none"}),1==t.roleBtnCheck.stop?$(".operate-btn").css({display:"inline-block"}):$(".operate-btn").css({display:"none"}),1==t.roleBtnCheck.delete?$(".operate-del").css({display:"inline-block"}):$(".operate-del").css({display:"none"}),1!=t.roleBtnCheck.change&&1!=t.roleBtnCheck.delete&&1!=t.roleBtnCheck.stop&&$('td[data-field="operate"],th[data-field="operate"]').css({display:"none"})},0),$("td[data-field='STATUS']").children().each(function(t){1==$(this).text()?$(this).html('<span class="normal-btn">正常</span>'):$(this).html('<span class="abnormal-btn">停用</span>')}),$("td[data-field='operate']").children("").each(function(t){var e=$(this).find(".operate-btn");0==e.attr("status")?e.text("启用"):1==e.attr("status")&&e.text("停用")}),$("td[data-field='UPDATE_TIME']").children().each(function(t){$(this).text()||$(this).html('<span class="">未查询到该更新时间</span>')}),$("td[data-field='ROLE_REMARK']").children().each(function(t){$(this).text()||$(this).html('<span class="">角色无备注，可以选择对角色重新编辑····</span>')}),$("#role_search").click(function(e){e.preventDefault();var a={rolename:t.searchData.msg,type:"GetRoleTable"};n.reload({where:a,page:{curr:1}})}),$(".operate-edit").click(function(){t.editData.id=$(this).attr("value"),t.editData.role_name=$(this).attr("identity"),t.editData.remark=$(this).attr("remark");var e=$(this).attr("status");t.editData.status=e;var a;0==e?a='<option value="1">正常</option><option value="0" selected>禁用</option>':1==e&&(a='<option value="1" selected>正常</option><option value="0" >禁用</option>'),$("#edit_status_set").html(a),i.render("select"),i.on("select(edit_status)",function(e){var a=e.value;t.editData.status=a}),layer.open({type:1,shadeClose:!0,closeBtn:1,skin:t.$store.state.skin,area:["550px","340px"],title:"编辑角色",content:$("#popup"),end:function(){$("#popup").css({display:"none"})}})}),$(".operate-del").click(function(){var e=$(this).attr("value"),a={id:e};a=s.a.deleteUrlTrans("RoleDel",a),layer.load(1),layer.confirm("确定要删除该条数据？",{btn:["确定","取消"],skin:t.$store.state.skin},function(){t.$http.apiDelete("http://192.168.8.82:80/carAuditApiTest/api",a).then(function(e){200==e.code?(layer.msg("删除成功",{time:1200}),setTimeout(function(){layer.closeAll(),t.tableRender()},1500)):(layer.msg(e.message,{time:1200}),setTimeout(function(){layer.closeAll(),t.tableRender()},1500))})},function(t){layer.closeAll()})}),$(".operate-btn").click(function(e){e.preventDefault();var a=$(this),i=0==$(this).attr("status")?1:0,n=$(this).val(),o=$(this).text(),l=null;l="停用"==o?"启用":"停用";var r=s.a.urlTransition("RoleD_Enable",{id:n,status:i});layer.confirm("您确定要"+o+"该用户吗？",{skin:t.$store.state.skin,title:o+"提示"},function(e){t.$http.apiPost("http://192.168.8.82:80/carAuditApiTest/api",r).then(function(t){var e=t.code,i=t.data;200==e?(layer.msg("已"+o+"该用户",{time:5e3}),a.text(l),a.parents("td").siblings('td[data-field="STATUS"]').find("span").text(o)):(layer.msg(i.message),layer.closeAll("loading"))})},function(){layer.closeAll("loading")})})}});a.on("toolbar(role_table)",function(e){var n=a.checkStatus(e.config.id),l=e.event;if("getCheckData"==l){var c=n.data,d=c.length;if(0==d)return void layer.msg("请至少选中一个角色");if(d>1)return void layer.msg("最多同时对一个角色进行编辑");var u=c[0].ID,p=r.a.getData("userInfo").ROLEID,h="http://192.168.8.82:80/carAuditApiTest/api?type=GetRoleResourceTable&checkroleid="+u+"&roleid="+p+"&page=1&limit=99999",m=layui.$;t.$http.apiGet(h).then(function(e){200==e.code&&(t.tableData=e.data,layui.use("laypage",function(){layui.laypage.render({elem:"pagination",count:e.count,layout:["count","prev","page","next","limit","refresh","skip"],jump:function(a,n){var o=a.curr;t.pageStart=10*o-10,t.pageEnd=10*o,t.pageEnd>e.count&&(t.pageEnd=e.count),setTimeout(function(){var e=[],a=$("#resource tbody tr");$.each(a,function(){"none"!=$(this).css("display")&&$(this).find("div.layui-form-switch").hasClass("layui-form-onswitch")&&e.push($(this))}),t.itemLength=e.length,e.length<9?($('input[lay-filter="switchAll"]').prop("checked",!1),i.render()):($('input[lay-filter="switchAll"]').prop("checked",!0),i.render())},0)}})}))}),layer.open({type:1,title:"为角色分配资源",area:["1000px","610px"],closeBtn:1,shadeClose:!0,skin:"layui-layer-molv",content:m("#distribute_resource"),btn:["确定","取消"],success:function(){t.modules_all_select=[]},yes:function(){var e=$("#resource td:nth-of-type(1)"),a=[];if($.each(e,function(t,e){$(this).find("div.layui-form-switch").hasClass("layui-form-onswitch")&&a.push($(this).next("td").text())}),a.length<1)return void layer.msg("请至少选择一个资源");var i={roleid:u,resourceid:a};i=s.a.urlTransition("SetRoleResource",i),console.log(i),$.ajax({url:"http://192.168.8.82:80/carAuditApiTest/api",dataType:"json",data:o()(i),type:"POST",headers:{"Content-Type":"application/json,charset=utf-8",Accept:"application/json",Authorization:t.Authorization},beforeSend:function(){layer.load(1,{shade:[.1,"#fff"]})},success:function(t){200==t.code?(layer.msg("设置资源成功",{icon:6}),setTimeout(function(){layer.closeAll()},600)):(layer.msg(t.message),setTimeout(function(){layer.closeAll()},600))},complete:function(t){layer.closeAll("loading")}})},end:function(){layer.msg("end"),i.render("checkbox")}})}else if("dis_m"==l){var c=n.data,d=c.length,f=r.a.getData("userInfo").ROLEID;if(0==d)return void layer.msg("请至少选中一个角色");var A=c[0].ID,y=s.a.getUrlTrans({type:"GetRoleMenbtnTable",roleid:f,checkroleid:A});t.$http.apiGet("http://192.168.8.82:80/carAuditApiTest/api",y).then(function(e){if(200==e.code){var a=e.data;t.formData=a}}),i.on("checkbox(leftCheckbox)",function(t){var e=t.elem.checked,a=$(t.elem).parents(".left-child").siblings(".right-child").find("input:checkbox[name='right-checkbox']");$(t.elem).parents(".left-child").siblings(".right-child").find(".layui-form-checkbox");1==e?(a.prop("checked",!0),i.render()):(a.prop("checked",!1),i.render())}),i.on("checkbox(rightCheckbox)",function(e){var a=e.elem.checked,n=$(e.elem).parents(".right-child").siblings(".left-child").find("input:checkbox[name='left-checkbox']");if(1==a)t.rightBtnArr.push($(e.elem)),t.rightBtnArr.length>0&&(n.prop("checked",!0),i.render());else if(0==a){var o=[],l=$(e.elem).siblings(".layui-form-checkbox");$.each(l,function(t,e){$(this).hasClass("layui-form-checked")&&o.push($(this))});var s=o.length;s>0?(n.prop("checked",!0),i.render()):(n.prop("checked",!1),i.render())}}),layer.open({type:1,title:"为角色分配模块",area:["1080px","650px"],closeBtn:1,shadeClose:!0,skin:"layui-layer-molv",content:$("#distribute_modules"),btn:["确定分配","取消"],success:function(){},yes:function(){var e=$("input[name='left-checkbox']:checked"),a={},i={};a.roleid=A,a.modules=[],$.each(e,function(t){var e=$(this).val(),n=$(this).parents(".left-child").siblings(".right-child").find("input");i={mid:e},i.btnid=[],$.each(n,function(t,e){$(this).is(":checked")&&i.btnid.push($(this).val())}),a.modules.push(i)}),a=s.a.urlTransition("SetRoleMenuAndBtn",a),$.ajax({url:"http://192.168.8.74/carauditapi/api",dataType:"json",data:o()(a),type:"POST",headers:{"Content-Type":"application/json,charset=utf-8",Accept:"application/json",Authorization:t.Authorization},beforeSend:function(){layer.load(1,{shade:[.1,"#fff"]})},success:function(t){200==t.code?(layer.msg("设置资源成功",{icon:6}),setTimeout(function(){layer.closeAll()},1500)):(layer.msg(t.message),setTimeout(function(){layer.closeAll()},1500))},complete:function(t){}})},end:function(){$("#distribute_modules").css({display:"none"})}})}})})}},computed:{showNum:function(){},layerSet:function(t){}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){var t=this;layui.use(["form","layer","laydate","element"],function(){var e=layui.form;layui.layer,layui.laydate,layui.element;e.render(),e.on("switch(switchAll)",function(t){var a=$("#resource td:nth-of-type(1)");$("#resource tbody tr");this.checked?$.each(a,function(t,a){"none"!=$(this).parent("tr").css("display")&&($(this).find("input").prop("checked",!0),e.render("checkbox"))}):$.each(a,function(t,a){"none"!=$(this).parent("tr").css("display")&&($(this).find("input").prop("checked",!1),e.render("checkbox"))})}),e.on("switch(switchTest)",function(t){var e=$(this).parents("td").next("td").text();this.checked&&console.log(e)}),t.tableRender()});var e=this.$store.current_id,a=r.a.getData("userInfo").ROLEID,i={type:"GetMenuBtn",rid:a,mid:e};i=s.a.getUrlTrans(i),this.$http.apiGet("http://192.168.8.82:80/carAuditApiTest/api",i).then(function(e){var a=e.data;t.roleBtnCheck.dis_mo=a[0].check,t.roleBtnCheck.dis_re=a[1].check,t.roleBtnCheck.stop=a[2].check,t.roleBtnCheck.add=a[3].check,t.roleBtnCheck.delete=a[4].check,t.roleBtnCheck.change=a[5].check,t.roleBtnCheck.search=a[6].check})},beforeUpdate:function(){},updated:function(){this.$nextTick(function(){layui.use(["form","element"],function(){layui.form.render(),layui.element.render("collapse","modules")})})}},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"main-content-header"},[a("form",{staticClass:"layui-form layui-form-pane ar clearfix",attrs:{action:""}},[a("div",{staticClass:"layui-form-item fl ml-30"},[a("div",{staticClass:"layui-input-inline mr0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.msg,expression:"searchData.msg"}],staticClass:"layui-input",attrs:{type:"text",name:"username",id:"role_name",placeholder:"请输入角色身份",autocomplete:"off"},domProps:{value:t.searchData.msg},on:{input:function(e){e.target.composing||t.$set(t.searchData,"msg",e.target.value)}}})]),t._v(" "),t._m(0),t._v(" "),a("button",{staticClass:"layui-btn layui-btn-sm layui-btn-primary ml-16",attrs:{id:"reset"},on:{click:function(e){return t.reset(e)}}},[a("i",{staticClass:"layui-icon"},[t._v("")]),t._v("重置")])]),t._v(" "),a("div",{staticClass:"layui-form-item"},[a("button",{directives:[{name:"show",rawName:"v-show",value:1==t.roleBtnCheck.add,expression:"roleBtnCheck.add==1"}],staticClass:"layui-btn layui-btn-sm",attrs:{id:"add"},on:{click:function(e){return e.stopPropagation(),t.add(e)}}},[a("i",{staticClass:"mr-4"}),t._v("添加")])])])]),t._v(" "),a("div",{staticClass:"middle-space"}),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"main-content-footer"}),t._v(" "),a("div",{ref:"add_content",staticClass:"hide",attrs:{id:"add_content"}},[a("form",{staticClass:"layui-form layui-form-pane",attrs:{action:""}},[a("div",{staticClass:"layui-form-item display_block"},[a("label",{staticClass:"layui-form-label"},[t._v("角色名称")]),t._v(" "),a("div",{staticClass:"layui-input-block w-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.role_name,expression:"addFormData.role_name"}],staticClass:"layui-input",attrs:{type:"text",name:"title",autocomplete:"off",placeholder:"请输入角色名称"},domProps:{value:t.addFormData.role_name},on:{input:function(e){e.target.composing||t.$set(t.addFormData,"role_name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item display_block"},[a("label",{staticClass:"layui-form-label"},[t._v("状态")]),t._v(" "),a("div",{staticClass:"layui-input-block w-auto"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.status,expression:"addFormData.status"}],attrs:{name:"add_status",id:"add_status","lay-filter":"add_status"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.addFormData,"status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}}),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("正常")]),t._v(" "),a("option",{attrs:{value:"0",selected:""}},[t._v("禁用")])])])]),t._v(" "),a("div",{staticClass:"layui-form-item layui-form-text display_block"},[a("label",{staticClass:"layui-form-label pl20",attrs:{for:""}},[t._v("备注(可选)")]),t._v(" "),a("div",{staticClass:"layui-input-block w-auto"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.role_remark,expression:"addFormData.role_remark"}],staticClass:"layui-textarea",attrs:{rows:"2",placeholder:"请输入备注(可填可不填)",id:"add_role_remark"},domProps:{value:t.addFormData.role_remark},on:{input:function(e){e.target.composing||t.$set(t.addFormData,"role_remark",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"tac"},[a("button",{staticClass:"layui-btn layui-btn-sm",on:{click:function(e){return t.confirm_add(e)}}},[t._v("确定添加")])])])]),t._v(" "),a("div",{ref:"edit_content",staticClass:"hide",attrs:{id:"edit_content"}},[t._v("edit")]),t._v(" "),a("div",{staticClass:"hide",attrs:{id:"distribute_resource"}},[a("div",{attrs:{id:"resource"}},[a("table",{staticClass:"layui-table",attrs:{id:"distribute_resource_table"}},[t._m(2),t._v(" "),t._m(3),t._v(" "),a("tbody",t._l(t.tableData,function(e,i){return a("tr",{directives:[{name:"show",rawName:"v-show",value:i>t.pageStart&&i<t.pageEnd,expression:"index>pageStart&&index<pageEnd"}],key:i},[a("td",[a("div",{staticClass:"layui-form"},[a("input",{attrs:{type:"checkbox",name:"open","lay-skin":"switch","lay-filter":"switchTest","lay-text":"ON|OFF"},domProps:{checked:1==e.check}})])]),t._v(" "),a("td",[t._v(t._s(e.ID))]),t._v(" "),a("td",[t._v(t._s(e.RESOURCE_NAME))]),t._v(" "),a("td",[t._v(t._s(e.BELONG))]),t._v(" "),a("td",[t._v(t._s(e.MARK))])])}),0)]),t._v(" "),a("div",{attrs:{id:"pagination"}})])]),t._v(" "),a("div",{staticClass:"hide",attrs:{id:"distribute_modules"}},[a("div",{staticClass:"layui-collapse",attrs:{"lay-filter":"modules","lay-accordion":""}},t._l(t.formData,function(e,i){return a("div",{key:i,staticClass:"layui-colla-item"},[a("h2",{staticClass:"layui-colla-title"},[t._v(t._s(e.mname))]),t._v(" "),a("div",{staticClass:"layui-colla-content",class:0==i?"layui-show":""},[a("div",{staticClass:"colla-content-child"},[a("form",{staticClass:"layui-form",attrs:{action:""}},t._l(e.children,function(e,i){return a("div",{key:i,staticClass:"layui-form-item display_block mb5"},[a("div",{staticClass:"left-child"},[a("input",{staticClass:"modules-left-checkbox",attrs:{type:"checkbox","lay-filter":"leftCheckbox",name:"left-checkbox",parent_id:e.parent_id,title:e.mname,"lay-skin":"primary"},domProps:{checked:e.check,value:e.mid}})]),t._v(" "),a("div",{staticClass:"right-child"},t._l(e.btnlist,function(t,e){return a("input",{key:e,staticClass:"modules-right-checkbox",attrs:{type:"checkbox","lay-filter":"rightCheckbox",name:"right-checkbox",title:t.bname,"lay-skin":"primary"},domProps:{value:t.bid,checked:t.check}})}),0)])}),0)])])])}),0)]),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"popup"}},[a("form",{staticClass:"layui-form layui-form-pane",attrs:{action:""}},[a("div",{staticClass:"layui-form-item display_block"},[a("label",{staticClass:"layui-form-label"},[t._v("角色标识")]),t._v(" "),a("div",{staticClass:"layui-input-block w-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.id,expression:"editData.id"}],staticClass:"layui-input cursor-n bgce",attrs:{type:"text",name:"role_id",readonly:"",autocomplete:"off"},domProps:{value:t.editData.id},on:{input:function(e){e.target.composing||t.$set(t.editData,"id",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item d_i_b"},[a("label",{staticClass:"layui-form-label"},[t._v("用户状态")]),t._v(" "),a("div",{staticClass:"layui-input-block w-160"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.editData.status,expression:"editData.status"}],attrs:{id:"edit_status_set",name:"interest","lay-filter":"edit_status"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editData,"status",e.target.multiple?a:a[0])}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item fr"},[a("label",{staticClass:"layui-form-label"},[t._v("角色身份")]),t._v(" "),a("div",{staticClass:"layui-input-block w-160"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.role_name,expression:"editData.role_name"}],staticClass:"layui-input",attrs:{type:"text",name:"username",placeholder:"输入角色身份",autocomplete:"off"},domProps:{value:t.editData.role_name},on:{input:function(e){e.target.composing||t.$set(t.editData,"role_name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item layui-form-text display_block"},[a("label",{staticClass:"layui-form-label pl20"},[t._v("角色备注(可选)")]),t._v(" "),a("div",{staticClass:"block w-auto"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editData.remark,expression:"editData.remark"}],staticClass:"layui-textarea",attrs:{rows:"2",placeholder:"请输入备注(可填可不填)",id:"add_remark"},domProps:{value:t.editData.remark},on:{input:function(e){e.target.composing||t.$set(t.editData,"remark",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"tac"},[a("button",{staticClass:"confirm-edit layui-btn layui-btn-sm",on:{click:function(e){return t.confirm_edit(e)}}},[t._v("确定编辑")])])])])])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"layui-btn layui-btn-sm",attrs:{id:"role_search"}},[a("i",{staticClass:"layui-icon"},[t._v("")]),t._v("搜索")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content-body"},[a("div",{staticClass:"main-content-body-right"},[a("div",{staticClass:"main-content-body-right-top"},[a("p",[a("i",{staticClass:"iconfont mr-6"},[t._v("")]),t._v("角色分类")])]),t._v(" "),a("div",{staticClass:"main-content-right-bottom"},[a("table",{staticClass:"layui-hide",attrs:{id:"role_table","lay-filter":"role_table"}}),t._v(" "),a("script",{attrs:{type:"text/html",id:"toolbarSet"}},[t._v('\n          <div class="layui-btn-container">\n            <button class="layui-btn layui-btn-sm mr-20 hide" lay-event="getCheckData"><i class="layui-icon">&#xe609</i>为角色分配资源</button>\n            <button class="layui-btn layui-btn-sm hide" lay-event="dis_m"><i class="layui-icon">&#xe609</i>为角色分配模块</button>\n          </div>\n       ')])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{attrs:{width:"70"}}),t._v(" "),a("col",{attrs:{width:"250"}}),t._v(" "),a("col",{attrs:{width:"150"}}),t._v(" "),a("col",{attrs:{width:"150"}}),t._v(" "),a("col")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[a("div",{staticClass:"layui-form"},[a("input",{attrs:{type:"checkbox",id:"switch_all",name:"open","lay-skin":"switch","lay-filter":"switchAll","lay-text":"ON|OFF"}})])]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("权限名称")]),t._v(" "),a("th",[t._v("所属应用")]),t._v(" "),a("th",[t._v("标识")])])])}],p={render:d,staticRenderFns:u},h=p,m=a("C7Lr"),f=i,A=m(c,h,!1,f,"data-v-eae0c4dc",null);e.default=A.exports},nRwZ:function(t,e,a){var i=a("A/MO");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("0df9a74d",i,!0,{})}});