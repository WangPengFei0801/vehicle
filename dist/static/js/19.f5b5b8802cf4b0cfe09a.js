webpackJsonp([19],{M9PD:function(t,a,e){var i=e("PK4B");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("FIqI")("8d340722",i,!0,{})},PK4B:function(t,a,e){a=t.exports=e("UTlt")(!0),a.push([t.i,".filter[data-v-4f36f936]{background-color:#fff;margin-top:10px;margin-bottom:20px}.table-area[data-v-4f36f936]{background-color:#fff;-webkit-box-shadow:0 1px 4px 1px rgba(29,29,39,.15);box-shadow:0 1px 4px 1px rgba(29,29,39,.15);padding:10px}#filterAdd[data-v-4f36f936]{position:absolute;left:100px;top:103px;z-index:999}","",{version:3,sources:["C:/Users/Administrator/Desktop/project/fs-master/trunk/code/src/pages/system/res.vue"],names:[],mappings:"AACA,yBACE,sBAAuB,AACvB,gBAAiB,AACjB,kBAAoB,CACrB,AACD,6BACE,sBAAuB,AACvB,oDAAwD,AAChD,4CAAgD,AACxD,YAAc,CACf,AACD,4BACE,kBAAmB,AACnB,WAAY,AACZ,UAAW,AACX,WAAa,CACd",file:"res.vue",sourcesContent:["\n.filter[data-v-4f36f936] {\n  background-color: #fff;\n  margin-top: 10px;\n  margin-bottom: 20px;\n}\n.table-area[data-v-4f36f936] {\n  background-color: #fff;\n  -webkit-box-shadow:0 1px 4px 1px rgba(29, 29, 39, 0.15);\n          box-shadow:0 1px 4px 1px rgba(29, 29, 39, 0.15);\n  padding: 10px;\n}\n#filterAdd[data-v-4f36f936] {\n  position: absolute;\n  left: 100px;\n  top: 103px;\n  z-index: 999;\n}\n"],sourceRoot:""}])},wak3:function(t,a,e){"use strict";function i(t){e("M9PD")}Object.defineProperty(a,"__esModule",{value:!0});var s=e("QmSG"),l=e.n(s),r={name:"res",data:function(){return{msg:"权限节点",arr:{name:"权限管理",value:"res"},table:"",Authorization:OperatorUtils.getData("token"),page:{add:"确定",del:"确定"},addFormData:{belong:"CarAudit",name:"",remark:"",status:"1",mark:""},editFormData:{id:"",mark:"",name:"",belong:"1",status:"1",remark:""}}},methods:{showMsg:function(){},tableRender:function(t){var a=this,e=t.render({elem:"#jurisdiction",url:"http://192.168.8.82:80/carAuditApiTest/api?type=GetResourceTable",loading:!0,toolbar:"#toolbar",response:{statusCode:200},headers:{Authorization:a.Authorization},title:"用户数据",even:!0,cols:[[{type:"checkbox",fixed:"left"},{field:"MY_ROWNUM",title:"#",width:100},{field:"MARK",title:"标识"},{field:"RESOURCE_NAME",title:"名称",style:"color:#337AB7"},{field:"BELONG",title:"所属应用"},{field:"STATUS",title:"状态"},{field:"operate",title:"操作",fixed:"right",width:130,templet:function(t){return'<a IDS="'+t.ID+'" name="'+t.MARK+'" value="'+t.BELONG+'" status="'+t.STATUS+'" call="'+t.RESOURCE_NAME+'" class="layui-btn layui-btn-sm edit">编辑</a><a IDS="'+t.ID+'" name="'+t.MARK+'" value="'+t.BELONG+'" status="'+t.STATUS+'" call="'+t.RESOURCE_NAME+'" class="layui-btn layui-btn-warm layui-btn-sm stop">停用</a>'}}]],page:!0,done:function(t){layer.closeAll("loading"),$("td[data-field='STATUS']").children().each(function(t){1==$(this).text()?$(this).html('<span class="normal-btn">正常</span>'):$(this).html('<span class="abnormal-btn">禁用</span>')}),$("td[data-field='operate']").children("").each(function(t){var a=$(this).find(".stop");0==a.attr("status")?a.text("启用"):1==a.attr("status")&&a.text("停用")}),$(".edit").click(function(t){t.preventDefault();var e=layui.layer,i=(layui.form,layui.$);a.editFormData.id=i(this).attr("IDS"),a.editFormData.mark=i(this).attr("name"),a.editFormData.belong=i(this).attr("value"),a.editFormData.name=i(this).attr("call");var s=i(this).attr("status");a.editFormData.status=s,e.open({type:1,title:"编辑角色",area:["550px","370px"],closeBtn:1,shadeClose:!0,skin:"layui-layer-molv",content:i("#edit_popup")})}),$(".stop").click(function(t){t.preventDefault();var i=$(this).text(),s=$(this).attr("status"),r=$(this).attr("ids");layer.confirm("您确定要"+i+"该条数据？",{btn:["确定","取消"]},function(){0==s?s=1:1==s&&(s=0);var t={id:r,status:s};t=l.a.urlTransition("ResourceD_Enable",t),layer.load(1),a.$http.apiPost("http://192.168.8.82:80/carAuditApiTest/api",t).then(function(t){var a=t.code;console.log(a),200==a?(layer.msg("操作成功。。",{icon:2}),layer.closeAll(),e.reload()):(layer.msg(t.message),layer.closeAll())})})})}});t.on("toolbar(jurisdiction)",function(i){var s=t.checkStatus(i.config.id);if("getCheckData"==i.event){var r=s.data;if(0==r.length)return void layer.msg("请在下方的列表中选择一项进行删除");var o=r[0].ID,n={id:o};n=l.a.deleteUrlTrans("ResourceDel",n),layer.confirm("确定要删除吗?",{skin:a.$store.state.skin},function(t){a.$http.apiDelete("http://192.168.8.82:80/carAuditApiTest/api",n).then(function(t){200==t.code?(layer.msg("删除成功",{time:1e3}),window.setTimeout(function(){e.reload()},1100)):layer.msg("failed")})})}})},add:function(t){t.preventDefault();var a=this;layui.use("layer",function(){var t=layui.$;layui.layer.open({type:1,title:"添加",area:["520px","420px"],closeBtn:1,shadeClose:!0,skin:a.$store.state.skin,content:t("#add_content")})})},confirm_add:function(t){t.preventDefault();var a=this;if(""==this.addFormData.mark)return void layer.tips("必填项","#add_mark",{tips:[1,"#459eff"],time:2e3});if(""==this.addFormData.name)return void layer.tips("必填项","#res_add_name",{tips:[1,"#459eff"],time:2e3});var e={mark:this.addFormData.mark,name:this.addFormData.name,belong:this.addFormData.belong,status:this.addFormData.status,remark:this.addFormData.remark};e=l.a.urlTransition("ResourceAdd",e),layer.load(1),this.$http.apiPost("http://192.168.8.82:80/carAuditApiTest/api",e).then(function(t){200==t.code?(layer.msg("添加成功",{time:1300}),setTimeout(function(){layer.closeAll(),a.tableRender(a.table)},1500)):(layer.msg(t.message),setTimeout(function(){layer.closeAll()},1500))})},editSubmit:function(t){t.preventDefault();var a={id:this.editFormData.id,mark:this.editFormData.mark,name:this.editFormData.name,belong:this.editFormData.belong,status:this.editFormData.status,remark:this.editFormData.remark};a=l.a.urlTransition("ResourceEdit",a),layer.load(1),this.$http.apiPost("http://192.168.8.82:80/carAuditApiTest/api",a).then(function(t){200==t.code?(layer.msg("success"),layer.closeAll()):(layer.msg("failed"),layer.closeAll())})},retrun:function(){}},computed:{showNum:function(){}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){var t=this;layui.use(["form","layer","table"],function(){var a=(layui.layer,layui.form),e=layui.table;t.table=e,a.on("select(belong)",function(a){var e=a.value;t.addFormData.belong=e}),a.on("select(status)",function(a){var e=a.value;t.addFormData.status=e}),a.on("select(edit_status)",function(a){var e=a.value;t.editFormData.status=e}),a.on("select(edit_belong)",function(a){var e=a.value;t.editFormData.belong=e}),t.tableRender(t.table),a.render()})},beforeUpdate:function(){},updated:function(){}},o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"viewBox",staticClass:"main-content"},[e("div",{staticClass:"main-content-right-body"},[e("div",{staticClass:"filter"},[e("div",{staticClass:"current-page"},[e("p",[e("i",{staticClass:"layui-icon mr-10"},[t._v("")]),t._v(t._s(t.arr.name))])]),t._v(" "),e("form",{staticClass:"layui-form layui-form-pane pore pl20",attrs:{action:""}},[t._m(0),t._v(" "),t._m(1),t._v(" "),e("button",{staticClass:"layui-btn layui-btn-sm",attrs:{id:"filterAdd"},on:{click:function(a){return a.stopPropagation(),t.add(a)}}},[e("i",{staticClass:"layui-icon mr-4"},[t._v("")]),t._v("添加")])])]),t._v(" "),t._m(2)]),t._v(" "),e("div",{ref:"",staticClass:"hide",attrs:{id:"add_content"}},[e("form",{staticClass:"layui-form layui-form-pane",attrs:{action:""}},[e("div",{staticClass:"layui-form-item display_block"},[e("label",{staticClass:"layui-form-label"},[t._v("所属应用")]),t._v(" "),e("div",{staticClass:"layui-input-block w-auto"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.belong,expression:"addFormData.belong"}],attrs:{id:"belong",name:"interest","lay-filter":"belong"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.addFormData,"belong",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"CarAudit",name:"1",selected:""}},[t._v("CarAudit")])])])]),t._v(" "),e("div",{staticClass:"layui-form-item display_block"},[e("label",{staticClass:"layui-form-label"},[t._v("标识")]),t._v(" "),e("div",{staticClass:"layui-input-block w-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.mark,expression:"addFormData.mark"}],staticClass:"layui-input",attrs:{type:"text",placeholder:"请输入符合规范的标识",name:"date",id:"add_mark",autocomplete:"off"},domProps:{value:t.addFormData.mark},on:{input:function(a){a.target.composing||t.$set(t.addFormData,"mark",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"layui-form-item display_block"},[e("label",{staticClass:"layui-form-label",attrs:{for:""}},[t._v("名称")]),t._v(" "),e("div",{staticClass:"layui-input-block w-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.name,expression:"addFormData.name"}],staticClass:"layui-input",attrs:{type:"text",id:"res_add_name",autocomplete:"off",placeholder:"请输入名称"},domProps:{value:t.addFormData.name},on:{input:function(a){a.target.composing||t.$set(t.addFormData,"name",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"layui-form-item display_block"},[e("label",{staticClass:"layui-form-label"},[t._v("状态")]),t._v(" "),e("div",{staticClass:"layui-input-block w-auto"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.status,expression:"addFormData.status"}],attrs:{name:"add_status","lay-filter":"status"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.addFormData,"status",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("正常")]),t._v(" "),e("option",{attrs:{value:"0"}},[t._v("禁用")])])])]),t._v(" "),e("div",{staticClass:"layui-form-item layui-form-text display_block"},[e("label",{staticClass:"layui-form-label",staticStyle:{"padding-left":"20px"},attrs:{for:""}},[t._v("备注")]),t._v(" "),e("div",{staticClass:"layui-input-block w-auto"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.remark,expression:"addFormData.remark"}],staticClass:"layui-textarea",attrs:{rows:"2",placeholder:"请输入内容(想写就写，不想写就不写)"},domProps:{value:t.addFormData.remark},on:{input:function(a){a.target.composing||t.$set(t.addFormData,"remark",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"confrim tac"},[e("button",{staticClass:"layui-btn layui-btn-sm",on:{click:function(a){return t.confirm_add(a)}}},[t._v("确定添加")])])])]),t._v(" "),e("div",{staticStyle:{display:"none"},attrs:{id:"edit_popup"}},[e("form",{staticClass:"layui-form layui-form-pane",attrs:{action:""}},[e("div",{staticClass:"layui-form-item display_block"},[e("label",{staticClass:"layui-form-label"},[t._v("标识ID")]),t._v(" "),e("div",{staticClass:"layui-input-block w-auto"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.id,expression:"editFormData.id"}],staticClass:"layui-input cursor-n bgce",attrs:{type:"text",name:"user_code",id:"user_code",autocomplete:"off",readonly:""},domProps:{value:t.editFormData.id},on:{input:function(a){a.target.composing||t.$set(t.editFormData,"id",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"layui-form-item d_i_b"},[e("label",{staticClass:"layui-form-label"},[t._v("权限标识")]),t._v(" "),e("div",{staticClass:"layui-input-block w-160"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.mark,expression:"editFormData.mark"}],staticClass:"layui-input",attrs:{type:"text",name:"res_edit_name",placeholder:"请输入符合规范的标识",id:"res_edit_name",autocomplete:"off"},domProps:{value:t.editFormData.mark},on:{input:function(a){a.target.composing||t.$set(t.editFormData,"mark",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"layui-form-item d_i_b ml-40"},[e("label",{staticClass:"layui-form-label"},[t._v("名称")]),t._v(" "),e("div",{staticClass:"layui-input-block w-160"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.name,expression:"editFormData.name"}],staticClass:"layui-input",attrs:{type:"text",maxlength:"11",name:"account",placeholder:"请输入符合规范的名称",id:"edit_phone",autocomplete:"off"},domProps:{value:t.editFormData.name},on:{input:function(a){a.target.composing||t.$set(t.editFormData,"name",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"layui-form-item d_i_b"},[e("label",{staticClass:"layui-form-label"},[t._v("权限状态")]),t._v(" "),e("div",{staticClass:"layui-input-block w-160"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.status,expression:"editFormData.status"}],attrs:{id:"edit_status_set",name:"interest","lay-filter":"edit_status"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editFormData,"status",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"1",selected:""}},[t._v("正常")]),t._v(" "),e("option",{attrs:{value:"0"}},[t._v("禁用")])])])]),t._v(" "),e("div",{staticClass:"layui-form-item d_i_b ml-40"},[e("label",{staticClass:"layui-form-label"},[t._v("所属应用")]),t._v(" "),e("div",{staticClass:"layui-input-block w-160"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.belong,expression:"editFormData.belong"}],attrs:{id:"edit_belong_set",name:"edit_belong","lay-filter":"edit_belong"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editFormData,"belong",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:"1",selected:""}},[t._v("CarAudit")])])])]),t._v(" "),e("div",{staticClass:"layui-form-item layui-form-text display_block"},[e("label",{staticClass:"layui-form-label",staticStyle:{"padding-left":"20px"},attrs:{for:""}},[t._v("备注(可选)")]),t._v(" "),e("div",{staticClass:"layui-input-block w-auto"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.remark,expression:"editFormData.remark"}],staticClass:"layui-textarea",attrs:{rows:"2",placeholder:"请输入备注(可填可不填)",id:"edit_remark"},domProps:{value:t.editFormData.remark},on:{input:function(a){a.target.composing||t.$set(t.editFormData,"remark",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"confrim tac"},[e("button",{staticClass:"layui-btn layui-btn-sm",on:{click:function(a){return a.stopPropagation(),t.editSubmit(a)}}},[t._v("确定编辑")])])])]),t._v(" "),e("div",{ref:"deleteContent",staticClass:"hide",attrs:{id:"delete_content"}},[e("button",{staticClass:"layui-btn layui-btn-sm",on:{click:function(a){return a.stopPropagation(),t.showMsg(a)}}},[t._v(t._s(t.page.del))])])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"layui-form-item"},[e("label",{staticClass:"layui-form-label",attrs:{for:""}},[t._v("请选择")]),t._v(" "),e("div",{staticClass:"layui-input-block"},[e("select",{attrs:{name:"interest","lay-filter":"aihao"}},[e("option",{attrs:{value:"1",name:"CarAudit",selected:""}},[t._v("CarAudit")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"layui-btn layui-btn-sm",attrs:{id:"filterSearch"}},[e("i",{staticClass:"layui-icon mr-4"},[t._v("")]),t._v("搜索")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table-area"},[e("table",{staticClass:"layui-hide",attrs:{id:"jurisdiction","lay-filter":"jurisdiction"}}),t._v(" "),e("script",{attrs:{type:"text/html",id:"toolbar"}},[t._v('\n          <div class="layui-btn-container">\n            <button class="layui-btn layui-btn-sm layui-btn-danger" @click="del($event)" lay-event="getCheckData"><i class="layui-icon">&#xe640;</i>删除</button>\n          </div>\n       ')])])}],d={render:o,staticRenderFns:n},u=d,c=e("C7Lr"),m=i,p=c(r,u,!1,m,"data-v-4f36f936",null);a.default=p.exports}});