webpackJsonp([8],{"2qIq":function(t,e,a){var i=a("6DmD");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("09bc47f6",i,!0,{})},"6DmD":function(t,e,a){e=t.exports=a("UTlt")(!0),e.push([t.i,".content-top[data-v-682bb8d6]{background:#fff;margin-top:40px}.content-bottom[data-v-682bb8d6]{-webkit-box-shadow:0 1px 4px 1px rgba(29,29,39,.15);box-shadow:0 1px 4px 1px rgba(29,29,39,.15);background-color:#fff;padding:10px}","",{version:3,sources:["C:/Users/Administrator/Desktop/project/fs-master/trunk/code/src/pages/device/devFunc.vue"],names:[],mappings:"AACA,8BACE,gBAAiB,AACjB,eAAiB,CAClB,AACD,iCACE,oDAAwD,AAChD,4CAAgD,AACxD,sBAAuB,AACvB,YAAc,CACf",file:"devFunc.vue",sourcesContent:["\n.content-top[data-v-682bb8d6] {\n  background: #fff;\n  margin-top: 40px;\n}\n.content-bottom[data-v-682bb8d6] {\n  -webkit-box-shadow:0 1px 4px 1px rgba(29, 29, 39, 0.15);\n          box-shadow:0 1px 4px 1px rgba(29, 29, 39, 0.15);\n  background-color: #fff;\n  padding: 10px;\n}\n"],sourceRoot:""}])},caJk:function(t,e,a){"use strict";function i(t){a("2qIq"),a("yoqk")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("QmSG"),n=a.n(l),o=a("U/9I"),s={name:"device",data:function(){return{msg:"device",arr:[{name:"device",value:"device"}],areaData:"",table:"",picker:"",Authorization:o.a.getData("token"),addFormData:{menu_name:"",menu_code:"",menu_type:"",menu_level:"",menu_state:"",app_id:"",remark:"",menu_value:""},editFormData:{menu_name:"",menu_code:"",menu_type:"",menu_level:"",menu_state:"",app_id:"",remark:"",menu_value:""},searchFormData:{func_name:""}}},methods:{showMsg:function(){console.log(this.msg)},add:function(t){t.preventDefault();var e=layui.jquery,a=this;layer.open({type:1,title:"新增设备基本功能",area:["502px","480px"],closeBtn:1,scrollbar:!1,shadeClose:!0,skin:"layui-layer-molv",content:e("#add_device_func"),btn:["确定添加","取消"],yes:function(t){var e={menuname:a.addFormData.menu_name,menucode:a.addFormData.menu_code,menustate:a.addFormData.menu_state,menulevel:a.addFormData.menu_level,menutype:a.addFormData.menu_type,menuvalue:a.addFormData.menu_value,appid:a.addFormData.app_id,remark:a.addFormData.remark};e=n.a.urlTransition("AddDevFuncDefault",e),a.$http.apiPost("http://192.168.8.82:80/carAuditApiTest/api",e).then(function(t){200==t.code?(layer.msg("添加完成",{icon:16,anim:-1,fixed:!1,time:900}),window.setTimeout(function(){layer.closeAll()},1e3)):(layer.msg(t.message),window.setTimeout(function(){layer.closeAll()},1500))})},btn2:function(t){layer.close(t)}})},tableRender:function(t){var e=this,a=t.render({elem:"#func_device_table",checkbox:!1,url:"http://192.168.8.82:80/carAuditApiTest/api",limit:20,limits:[20,40,50,60,80],where:{type:"GetDevFuncDefault"},even:!0,loading:!0,toolbar:"#func_device_table_toolbar",response:{statusCode:200},headers:{Authorization:e.Authorization},cols:[[{field:"id",title:"#",width:120},{field:"appId",title:"编号",width:140},{field:"menuName",title:"功能名称",width:180},{field:"createTime",title:"创建时间",width:180},{field:"dataState",title:"状态",width:120},{field:"remark",title:"备注"},{field:"operate",title:"操作",width:140,templet:function(t){return'<button func_id="'+t.id+'" menuLevel="'+t.menuLevel+'" menuName="'+t.menuName+'" menuType="'+t.menuType+'" menuCode="'+t.menuCode+'" menuValue="'+t.menuValue+'" dataState="'+t.dataState+'" menuState="'+t.menuState+'" dataSource="'+t.dataSource+'" appId="'+t.appId+'" class="layui-btn layui-btn-sm func-edit-btn">编辑</button><button func_id="'+t.id+'" class="layui-btn layui-btn-sm layui-btn-danger func-delete-btn">删除</button>'}}]],page:!0,done:function(i){$("#search").click(function(t){t.preventDefault();var i={menuName:e.searchFormData.func_name,type:"GetDevFuncDefault"};a.reload({where:i,page:{curr:1}})}),$(".func-edit-btn").click(function(t){t.preventDefault(),e.editFormData.menu_name=$(this).attr("func_id"),e.editFormData.menu_type=$(this).attr("menuType"),e.editFormData.menu_level=$(this).attr("menuLevel"),e.editFormData.menu_state=$(this).attr("menuState"),e.editFormData.app_id=$(this).attr("appId"),e.editFormData.remark=$(this).attr("remark"),e.editFormData.menu_value=$(this).attr("menuValue"),e.editFormData.menu_code=$(this).attr("menuCode"),layer.open({type:1,title:"修改设备基础功能",area:["504px","420px"],closeBtn:1,scrollbar:!1,shadeClose:!0,skin:"layui-layer-molv",content:$("#edit_device_func"),btn:["确定编辑","取消"],yes:function(t){},btn2:function(t){layer.close(t)},end:function(){$("#edit_device_func").css({display:"none"})}})}),$(".func-delete-btn").click(function(){var a=$(this).attr("func_id"),i={id:a};i=n.a.deleteUrlTrans("DelDevFuncDefault",i),layer.load(1),layer.confirm("确定要删除该条数据？",{btn:["确定","取消"],skin:e.$store.state.skin},function(){e.$http.apiDelete("http://192.168.8.82:80/carAuditApiTest/api",i).then(function(a){200==a.code?(layer.msg("删除成功",{time:1300}),setTimeout(function(){layer.closeAll()},1500)):(layer.msg(a.message),setTimeout(function(){layer.closeAll()},1500)),e.tableRender(t)})},function(t){layer.close(t)})}),$('td[data-field="dataState"]').children().each(function(t){var e=$(this).text();$(this).parents("td").siblings('td[data-field="8"]').find(".operate-btn");1==e?$(this).html('<span class="abnormal-btn">正常</span>'):0==e&&$(this).html('<span class="normal-btn">异常</span>')})}})},reset:function(t){t.preventDefault(),this.searchFormData.dev_id="",this.searchFormData.start_time=this.$store.state.dateSel("-")[5],this.searchFormData.end_time=this.$store.state.dateSel("-")[4]}},mounted:function(){var t=this;layui.use(["form","layer","table"],function(){var e=layui.form,a=layui.table;t.table=a,e.on("select(func_device_menu_level)",function(e){t.addFormData.menu_level=e.value}),e.on("select(func_device_state)",function(e){t.addFormData.menu_state=e.value}),e.render(),t.tableRender(t.table)}),this.$nextTick(function(){var t=$(".router-link-active > p").attr("name"),e=o.a.getData("userInfo").ROLEID,a={type:"GetMenuBtn",rid:e,mid:t};a=n.a.getUrlTrans(a),this.$http.apiGet("http://192.168.8.82:80/carAuditApiTest/api",a).then(function(t){t.data})})}},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("div",{staticClass:"content-top clearfix"},[t._m(0),t._v(" "),a("form",{staticClass:"layui-form layui-form-pane fl pl20",attrs:{action:""}},[a("div",{staticClass:"layui-form-item"},[a("div",{staticClass:"layui-inline"},[a("label",{staticClass:"layui-form-label"},[t._v("功能名称")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchFormData.func_name,expression:"searchFormData.func_name"}],staticClass:"layui-input",attrs:{type:"text",placeholder:"请输入功能名称"},domProps:{value:t.searchFormData.func_name},on:{input:function(e){e.target.composing||t.$set(t.searchFormData,"func_name",e.target.value)}}})])])]),t._v(" "),t._m(1),t._v(" "),a("button",{staticClass:"layui-btn layui-btn-sm layui-btn-primary vt",on:{click:function(e){return t.reset(e)}}},[a("i",{staticClass:"layui-icon"},[t._v("")]),t._v("重置")])]),t._v(" "),a("div",{staticClass:"content-top-right fr"},[a("button",{staticClass:"layui-btn layui-btn-sm",on:{click:function(e){return e.stopPropagation(),t.add(e)}}},[a("i",{staticClass:"layui-icon"},[t._v("")]),t._v("添加功能")])])]),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"add_device_func"}},[a("form",{staticClass:"layui-form layui-form-pane",attrs:{action:""}},[a("div",{staticClass:"layui-form-item display_block"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单名称")]),t._v(" "),a("div",{staticClass:"layui-input-block w-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.menu_name,expression:"addFormData.menu_name"}],staticClass:"layui-input",attrs:{type:"text",name:"serial-number",required:"",placeholder:"输入菜单名称"},domProps:{value:t.addFormData.menu_name},on:{input:function(e){e.target.composing||t.$set(t.addFormData,"menu_name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item display_block"},[a("label",{staticClass:"layui-form-label"},[t._v("应用编号")]),t._v(" "),a("div",{staticClass:"layui-input-block w-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.app_id,expression:"addFormData.app_id"}],staticClass:"layui-input",attrs:{type:"text",name:"serial-number",required:"",placeholder:"输入应用编号",autocomplete:"off"},domProps:{value:t.addFormData.app_id},on:{input:function(e){e.target.composing||t.$set(t.addFormData,"app_id",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item display_block mr-30"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单值")]),t._v(" "),a("div",{staticClass:"layui-input-block w-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.menu_value,expression:"addFormData.menu_value"}],staticClass:"layui-input",attrs:{type:"text",placeholder:"输入菜单值"},domProps:{value:t.addFormData.menu_value},on:{input:function(e){e.target.composing||t.$set(t.addFormData,"menu_value",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item d_i_b mr-30"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单代码")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.menu_code,expression:"addFormData.menu_code"}],staticClass:"layui-input",attrs:{type:"text",name:"menu_code",placeholder:"输入菜单代码",autocomplete:"off"},domProps:{value:t.addFormData.menu_code},on:{input:function(e){e.target.composing||t.$set(t.addFormData,"menu_code",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item d_i_b ml-34"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单类别")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.menu_type,expression:"addFormData.menu_type"}],staticClass:"layui-input",attrs:{type:"text",name:"address","lay-verify":"menu_type",placeholder:"输入菜单类别"},domProps:{value:t.addFormData.menu_type},on:{input:function(e){e.target.composing||t.$set(t.addFormData,"menu_type",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item d_i_b mr-30"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单状态")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.menu_state,expression:"addFormData.menu_state"}],attrs:{name:"interest","lay-filter":"func_device_state"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.addFormData,"menu_state",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("禁用")]),t._v(" "),a("option",{attrs:{value:"1",selected:""}},[t._v("启用")])])])]),t._v(" "),a("div",{staticClass:"layui-form-item d_i_b ml-34"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单等级")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.menu_level,expression:"addFormData.menu_level"}],attrs:{name:"interest","lay-filter":"func_device_menu_level"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.addFormData,"menu_level",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("一级")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("二级")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("三级")])])])]),t._v(" "),a("div",{staticClass:"layui-form-item layui-form-text display_block"},[a("label",{staticClass:"layui-form-label"},[t._v("备注")]),t._v(" "),a("div",{staticClass:"layui-input-block display_block w-auto"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addFormData.remark,expression:"addFormData.remark"}],staticClass:"layui-textarea",attrs:{placeholder:"您可以在这里的输入一些备注(可选)"},domProps:{value:t.addFormData.remark},on:{input:function(e){e.target.composing||t.$set(t.addFormData,"remark",e.target.value)}}})])]),t._v(" "),a("div")])]),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"edit_device_func"}},[a("form",{staticClass:"layui-form layui-form-pane",attrs:{action:""}},[a("div",{staticClass:"layui-form-item display_block"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单名称")]),t._v(" "),a("div",{staticClass:"layui-input-block w-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.menu_name,expression:"editFormData.menu_name"}],staticClass:"layui-input",attrs:{type:"text",name:"serial-number",required:"",placeholder:"",autocomplete:"off"},domProps:{value:t.editFormData.menu_name},on:{input:function(e){e.target.composing||t.$set(t.editFormData,"menu_name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item display_block"},[a("label",{staticClass:"layui-form-label"},[t._v("应用编号")]),t._v(" "),a("div",{staticClass:"layui-input-block w-auto"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.app_id,expression:"editFormData.app_id"}],staticClass:"layui-input",attrs:{type:"text",name:"edit_func_app_id",required:"",placeholder:"",autocomplete:"off"},domProps:{value:t.editFormData.app_id},on:{input:function(e){e.target.composing||t.$set(t.editFormData,"app_id",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item d_i_b mr-30"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单代码")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.menu_code,expression:"editFormData.menu_code"}],staticClass:"layui-input",attrs:{type:"text",name:"edit_func_menu_code",placeholder:"",autocomplete:"off"},domProps:{value:t.editFormData.menu_code},on:{input:function(e){e.target.composing||t.$set(t.editFormData,"menu_code",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item d_i_b ml-34"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单类别")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.menu_type,expression:"editFormData.menu_type"}],staticClass:"layui-input",attrs:{type:"text",name:"address","lay-verify":"edit_func_menu_type",placeholder:"",autocomplete:"off"},domProps:{value:t.editFormData.menu_type},on:{input:function(e){e.target.composing||t.$set(t.editFormData,"menu_type",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"layui-form-item d_i_b mr-30"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单状态")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.state,expression:"editFormData.state"}],attrs:{name:"interest","lay-filter":"edit_func_device_state"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editFormData,"state",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("禁用")]),t._v(" "),a("option",{attrs:{value:"1",selected:""}},[t._v("启用")])])])]),t._v(" "),a("div",{staticClass:"layui-form-item d_i_b ml-34"},[a("label",{staticClass:"layui-form-label"},[t._v("菜单等级")]),t._v(" "),a("div",{staticClass:"layui-input-block"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.menu_level,expression:"editFormData.menu_level"}],attrs:{name:"interest","lay-filter":"edit_func_device_menuType"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editFormData,"menu_level",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("一级")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("二级")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("三级")])])])]),t._v(" "),a("div",{staticClass:"layui-form-item layui-form-text display_block"},[a("label",{staticClass:"layui-form-label"},[t._v("备注")]),t._v(" "),a("div",{staticClass:"layui-input-block display_block w-auto"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editFormData.remark,expression:"editFormData.remark"}],staticClass:"layui-textarea",attrs:{placeholder:"您可以在这里的输入一些备注(可选)"},domProps:{value:t.editFormData.remark},on:{input:function(e){e.target.composing||t.$set(t.editFormData,"remark",e.target.value)}}})])]),t._v(" "),a("div")])])])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"current-page"},[a("p",[a("i",{staticClass:"iconfont"},[t._v("")]),t._v("设备功能")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"layui-btn layui-btn-sm vt",attrs:{id:"search"}},[a("i",{staticClass:"layui-icon"},[t._v("")]),t._v("搜索")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-bottom"},[a("table",{staticClass:"layui-hide",attrs:{"lay-filter":"func_device_table",id:"func_device_table"}}),t._v(" "),a("script",{attrs:{type:"text/html",id:"func_device_table_toolbar"}},[t._v('\n      <p class="col-red">提示：该表格展示了所有设备的基本功能</p>\n      ')])])}],m={render:r,staticRenderFns:u},d=m,c=a("C7Lr"),v=i,p=c(s,d,!1,v,"data-v-682bb8d6",null);e.default=p.exports},"mR/i":function(t,e,a){e=t.exports=a("UTlt")(!0),e.push([t.i,"#area .layui-input-inline:nth-of-type(3){margin-right:0}","",{version:3,sources:["C:/Users/Administrator/Desktop/project/fs-master/trunk/code/src/pages/device/devFunc.vue"],names:[],mappings:"AACA,yCACE,cAAgB,CACjB",file:"devFunc.vue",sourcesContent:["\n#area .layui-input-inline:nth-of-type(3) {\n  margin-right: 0;\n}\n"],sourceRoot:""}])},yoqk:function(t,e,a){var i=a("mR/i");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("5214f9b1",i,!0,{})}});